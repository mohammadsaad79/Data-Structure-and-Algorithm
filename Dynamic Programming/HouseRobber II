#include<bits/stdc++.h>
using namespace std;

int robHelper(vector<int> &nums) {
    int n = nums.size();
    if (n == 1) return nums[0];
    int p2 = nums[0];
    int p1 = max(nums[0], nums[1]);
    for (int i = 2; i < n; i++) {
        int pick = nums[i] + p2;
        int not_pick = p1;
        int cur = max(pick, not_pick);
        p2 = p1;
        p1 = cur;
    }
    return p1;
}

int maxAmount(int n, int arr[]) {
    vector<int> case1(arr, arr + n - 1);
    vector<int> case2(arr + 1, arr + n);
    return max(robHelper(case1), robHelper(case2));
}

int main() {
    int n;
    cout << "Enter number of house: ";
    cin >> n;
    int arr[n];
    cout << "Enter each house amount: ";
    for(int i = 0; i < n; i++)
        cin >> arr[i];
    cout << "Total steal amount: " << maxAmount(n, arr);
    return 0;
}
